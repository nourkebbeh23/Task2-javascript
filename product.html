<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>shopping</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <style>
      .product {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        width: 250px;
        text-align: center;
      }

      .cart-icon {
        position: fixed;
        top: 20px;
        left: 20px;

        border: 5px solid rgb(206, 81, 150);
        color: white;
        padding: 15px;
        border-radius: 50%;
      }

      .cart-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: none;
        justify-content: center;
        align-items: center;
      }

      .popup-content {
        background-color: white;
        padding: 30px;
        border-radius: 15px;
        width: 250px;
        text-align: center;
      }

      .popup-content button {
        background-color: rgb(206, 81, 150);
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body style="background-color: rgb(66, 45, 85)">
    <div class="container">
      <div class="row justify-content-center mt-5">
        <div class="products">
          <div class="cart-icon" onclick="toggleCartPopup()">
            <i
              class="fa-solid fa-cart-shopping fa-xl"
              style="color: #ffffff"
            ></i>
          </div>
        </div>
        <div class="col-md-3">
          <div class="product">
            <img
              class="img-fluid"
              src="./image/Hfeea08ac662c46fb8564adbda2f0679dd.jpg_720x720q50.avif"
              alt="منتج 4"
            />
            <h4 style="color: rgb(206, 81, 150)">منتج 1</h4>
            <p>65 $</p>
            <button
              onclick="addToCart('منتج 1', 65)"
              class="btn"
              style="background-color: rgb(206, 81, 150); color: white"
            >
              إضافة الى سلة الشراء
            </button>
          </div>
        </div>
        <div class="col-md-3">
          <div class="product">
            <img class="img-fluid" src="./image/images.jpg" alt="منتج 4" />
            <h4 style="color: rgb(206, 81, 150)">منتج 2</h4>
            <p>55 $</p>
            <button
              onclick="addToCart('منتج 2',55)"
              class="btn"
              style="background-color: rgb(206, 81, 150); color: white"
            >
              إضافة الى سلة الشراء
            </button>
          </div>
        </div>
        <div class="col-md-3">
          <div class="product">
            <img
              class="img-fluid"
              src="./image/fstan-khroj-atfal-sghar-hdythy-alolad-baloan-mtaadd-659004_600x.jpg"
              alt="منتج 3"
            />
            <h4 style="color: rgb(206, 81, 150)">منتج 3</h4>
            <p>50 $</p>
            <button
              onclick="addToCart('منتج 3', 50)"
              class="btn"
              style="background-color: rgb(206, 81, 150); color: white"
            >
              إضافة الى سلة الشراء
            </button>
          </div>
        </div>
        <div class="col-md-3">
          <div class="product">
            <img
              class="img-fluid"
              src="./image/Hd7f0e74b26fc4b5a89231b0f9287b576p.jpg_720x720q50.avif"
              alt="منتج 4"
            />
            <h4 style="color: rgb(206, 81, 150)">منتج 4</h4>
            <p>60 $</p>
            <button
              onclick="addToCart('منتج 4', 60)"
              class="btn"
              style="background-color: rgb(206, 81, 150); color: white"
            >
              إضافة الى سلة الشراء
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="cart-popup" class="cart-popup">
      <div class="popup-content">
        <h2 style="color: rgb(66, 45, 85)">سلة الشراء</h2>
        <ul id="cart-items"></ul>
        <p class="total-price"></p>
        <button
          onclick="closeCartPopup()"
          class="btn"
          style="background-color: rgb(206, 81, 150); color: white"
        >
          إغلاق
        </button>
      </div>
    </div>

    <script>
      //  لتخزين المنتجات المضافة إلى السلة
      let cart = [];

      // دالة لإضافة منتج إلى السلة
      function addToCart(productName, productPrice) {
        // إضافة المنتج إلى السلة
        cart.push({ name: productName, price: productPrice });

        // تحديث عرض السلة
        updateCart();
      }

      // دالة لتحديث سلة الشراء
      function updateCart() {
        // الحصول على عنصر عرض سلة الشراء
        const cartItems = document.getElementById("cart-items");
        const totalPriceElement = document.querySelector(".total-price");

        // مسح العناصر السابقة في السلة
        cartItems.innerHTML = "";

        // حساب الإجمالي
        let totalPrice = 0;

        // إضافة العناصر إلى السلة
        cart.forEach((item, index) => {
          const listItem = document.createElement("li");
          listItem.textContent = `${item.name} $ - ${item.price} `;

          // إضافة زر "مسح" لكل منتج
          const deleteButton = document.createElement("button");
          deleteButton.textContent = "حذف";
          deleteButton.onclick = function () {
            removeFromCart(index);
          };
          listItem.appendChild(deleteButton);

          cartItems.appendChild(listItem);

          // إضافة سعر المنتج لل الإجمالي
          totalPrice += item.price;
        });

        // عرض الإجمالي
        totalPriceElement.textContent = ` $ الإجمالي: ${totalPrice} `;
      }

      // دالة لإزالة منتج من السلة
      function removeFromCart(index) {
        // حذف المنتج من السلة
        cart.splice(index, 1);

        // تحديث عرض السلة بعد الحذف
        updateCart();
      }

      // دالة لفتح/إغلاق نافذة السلة
      function toggleCartPopup() {
        const popup = document.getElementById("cart-popup");
        popup.style.display = popup.style.display === "flex" ? "none" : "flex";
      }

      function closeCartPopup() {
        const popup = document.getElementById("cart-popup");
        popup.style.display = "none";
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  </body>
</html>
